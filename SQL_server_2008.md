## 数据库常用对象  
* 表(table)  
表是包含数据库中所有数据的数据库对象,由 **行** 和 **列** 组成,用于组织和存储数据.
* 字段(field)  
表中 **每列** 称为一个字段,字段具有自己的属性,如字段类型,字段大小等.其中,字段类型是最重要的属性,它决定了字段能够存储哪种数据.
* 索引(index)  
索引是一个单独的,物理的数据库结构.它是依赖于表建立的,在数据库中索引使数据库程序无需对整个表进行扫描,就可以在其中找到所需的数据.
* 视图(view)  
视图是从一张或多张表中导出的表(也称为虚拟表),表中包括几个被定义的数据列和数据行,其结构和数据建立在对表的查询基础之上.
* 存储过程(stored procedure)  
存储过程是一组为了完成特定功能的SQL语句集合(包含 **查询**,**插入**,**删除**,**更新** 等操作),经编译后以名称的形式存储在SQL Server服务器端的数据库中,由用户指定存储过程的名字来执行.(**xxx.sql文件**)
---
## 数据库组成  
SQL数据库主要由 **文件** 和 **文件组** 组成.数据库中的所有数据和对象(如表,存储过程和触发器)都被存储在文件中
* **文件**
  * 主要数据文件:  
  存放数据和数据库的初始化信息,每个数据库有且只有一个主要数据文件,默认扩展名为.mdf
  * 次要数据文件:  
  存放除主要数据以外的所有数据文件.有些数据库可能没有次要数据文件,也可能有多个次要数据文件.扩展名为.ndf
  * 事务日志文件:  
  存放用于恢复数据库的所有日志信息.每个数据库至少有一个事务日志文件,后缀名.ldf
* **文件组**  
文件组是SQL Server 2008 数据文件的一种 **逻辑管理单位**,它将数据库文件分成不同的文件组,方便对文件的分配和管理
  * 主文件组:  
  包含主要数据文件和任何没有明确指派给其它文件组的文件.系统表的所有页都分配在主文件组里
  * 用户定义文件组:  
  主要是在CREATE DATABASE或ALTER DATABASE语句中,使用FILEGROUP关键字指定的文件组
---
## SQL Server的命名规则
SQL server 设计了严格的命名规则.用户在创建数据库及数据库对象时必须严格遵守SQL Server的命名规则
* **标识符**  
在SQL server中,服务器,数据库和 **数据库对象**(如表,视图,列,索引,触发器,过程,约束和规则等)都有标识符.数据库对象的名称被看成是该对象的标识符.对象的标识符是在定义对象时创建的,标识符随后用于引用该对象.(类似于 *变量名* )
  * 标识符的首字母必须是以下字符之一:  
  1.统一码(Unicode)2.0标准中所定义的字母,包括拉丁字母a~z,A~Z以及来自其他语言的字符.  
  2.下划线" _ ",符号"@",或者数字符号"#"
  * 在SQL Server中,有处于标识符开始位置的符号具有特殊意义:  
  1.以"@"符号开始的标识符表示局部变量或参数  
  2.以"#"(数字符号)开始的标识符表示临时表或过程.  
  3.以"##"(双数字符号)开始的标识符表示全局临时对象
  * 标识符不允许是Transact-SQL的保留字(关键字)
  * 标识符中不允许嵌入空格或其它特殊字符.
* **对象命名规则**  
SQL Server 2008 的数据库对象的名字由1~128个字符组成,不区分大小写. 使用标识符也可以作为对象的名称.数据库对象的完整名称应该由 **服务器名**,**数据库名**,**拥有者名**,**对象名** 4个部分组成 即  
`server.database.owner_name.object_name`  
服务器,数据库和所有者的名称即所谓的 **对象名称限定符**.不允许存在4部分名称完全相同的数据库对象.
---
## 数据表基础  
在创建数据表的过程中,需要为数据列选定数据类型,用于定义各列所允许的数据值.SQL Server提供了 **基本数据类型** 和用户自定义数据类型
#### 基本数据类型  
基本数据类型按数据的 **表现方式** 及 **存储方式** 的不同分为了一下数据类型:
* **整数数据类型**:  
常用的一种数据类型,可以存储整数(或小数?)
  * BIT
  * **INT**
  * SMALLINT
  * TINYINT
* **浮点数据类型**:  
用于存储十进制小数
  * REAL
  * **FLOAT**
  * DECIMAL
  * NUMERIC
* **字符数据类型**  
用于存储各种字母,数字符号和特殊符号
  * CHAR
  * NCHAR(n)
  * **VARCHAR**
  * NVARCHAR(n)
* **货币数据类型**:  
用于存储货币值,使用时在数据前加上货币符号,不加货币符号的情况下默认为"¥"(?为什么是人民币)
  * **MONEY**
  * SMALLMONEY
* **日期/时间数据类型**:  
用于存储日期类型和时间类型的组合数据
  * **DATETIME**
  * SMALLDATETIME
  * DATA
  * ...(貌似没用了)
* **二进制数据类型**  
用于存储二进制数据
  * BINARY
  * VARBINARY
* **图像和文本数据类型**  
用于存储大量的字符及二进制数据
  * TEXT
  * NTEXT(n)
  * IMAGE

#### 数据完整性  
表列中除了具有数据 **类型** 和 **大小** 属性之外,还有其它属性,其它属性是保证数据库中数据完整性和标的引用完整性的重要部分.  
所谓 **数据完整性** 是指列中每个事件都有正确的数据值,数据值的数据类型必须正确,并且数据值必须位于正确的域中.  
所谓 **引用完整性** 是指表之间的关系得到正确维护.一个表中的数据只应指向另一个表的现有行,不应指向不存在的行.  
SQL Server2008提供了多种强制数据完整性的机制:  
* **空值与非空值**(NULL或NOT NULL)  
表的每一列都有一组属性,如名称,数据类型,数据长度,为空性等,列的所有属性即构成列的定义.列可以定义是否允许空值.
  * 允许空值:默认情况下,列允许空值,即允许用户在添加数据时省略该列的值
  * 不允许空值:不允许在没有指定列的默认值的情况省略该列的值
* **默认值**  
如果在插入行时没有指定列的值,那么默认值将指定列中所使用的值.默认值可以使任何取值为常量的对象,如内置函数和数学表达式等,有两种使用默认值的方法.
  * 在CREATE TABLE中使用 **DEFAULT关键字** 创建默认定义,将常量表达式指派为列的默认值,这是标准方法.
  * 也可以使用CREATE DEFAULT语句创建默认对象,然后使用sp_bindefault系统存储过程将它绑定到列上,这是一个向前兼容的功能(大概不需要使用了)
* **特定标识属性(IDENTITY)**  
数据表中如果某列被指派特定标识属性,系统将自动为表中插入的新行生成连续递增的编号,因为标识值通常唯一,所以标识列常定义为 **主键**.IDENTITY属性只适用于INT,SMALLINT,TINYINT,DECIMAL(p,0),UMERIC(p,0)数据类型的列
* **约束**  
约束是用来定义SQL Server2008 自动强制数据库完整性的方式,使用约束有限于使用触发器,规则,和默认值.SQL Server2008共有以下5种约束
  * 非空(NOT NULL)  
  使用户必须在表的指定列中输入一个值,每个表中可以有多个非空约束
  * 检查(Check)  
  用来指定一个布尔操作,限制输入到表中的值
  * 唯一性(Unique)  
  使用户的应用程序必须向列中输入一个唯一的值,值不能重复,但可以为空
  * 主键(Primary Key)  
  建立一列或多列的组合以表示表中的每一行,主键可以保证实体完整性,一个表中只能有一个主键,同时主键中的列不能接受空值.
  * 外键(Foreign Key)  
  用于建立和加强两个表数据之间连接的一列或多列.当一个表中作为主键的一列被添加到另一个表中时,链接就建立了,主要目的是控制存储在外键表中的数据.
